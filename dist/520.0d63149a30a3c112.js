"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[520],{2520:(rt,k,d)=>{d.r(k),d.d(k,{BOMModule:()=>at});var c=d(2200),l=d(4341),F=d(8132),b=d(2796),O=d(1413),j=d(152),v=d(5866),t=d(3664),u=d(8728),C=d(2525),y=d(2277);let f=(()=>{class i{constructor(e){this.apiService=e,this.endpoint="bom"}getBOMs(e){return this.apiService.get(C.c.useDummayApi?"68eb2edcd0ea881f409e74d2/latest?meta=false":this.endpoint,e)}getBOM(e){return this.apiService.get(C.c.useDummayApi?"68eb2ef4ae596e708f0f3b9c/latest?meta=false":`${this.endpoint}/${e}`)}createBOM(e){return this.apiService.post(this.endpoint,e)}updateBOM(e,o){return this.apiService.put(`${this.endpoint}/${e}`,o)}deleteBOM(e){return this.apiService.delete(`${this.endpoint}/${e}`)}static{this.\u0275fac=function(o){return new(o||i)(u.KVO(y.G))}}static{this.\u0275prov=u.jDH({token:i,factory:i.\u0275fac})}}return i})();const R=()=>["form/new"],I=(i,r,e)=>({itemsPerPage:i,currentPage:r,totalItems:e,id:"list"}),E=i=>[i];function G(i,r){if(1&i&&t.nrm(0,"span"),2&i){const e=t.XpG();t.HbH(e.class)}}function $(i,r){if(1&i&&t.nrm(0,"span"),2&i){const e=t.XpG();t.HbH(e.class)}}function T(i,r){if(1&i&&t.nrm(0,"span"),2&i){const e=t.XpG();t.HbH(e.class)}}function D(i,r){1&i&&(t.j41(0,"tr")(1,"td",23)(2,"div",24)(3,"span",25),t.EFF(4,"Loading..."),t.k0s()()()())}function N(i,r){if(1&i&&(t.j41(0,"tr",26)(1,"td",23),t.EFF(2),t.k0s()()),2&i){const e=t.XpG();t.R7$(2),t.SpI(" ",e.error," ")}}function S(i,r){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"a",27),t.nrm(3,"i",28),t.k0s(),t.j41(4,"a",29),t.nrm(5,"i",30),t.k0s(),t.j41(6,"a",31),t.bIt("click",function(){const n=u.eBV(e).$implicit,a=t.XpG();return u.Njj(a.deleteBOM(n.id))}),t.nrm(7,"i",32),t.k0s()(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td")(15,"span",33),t.EFF(16),t.k0s()()()}if(2&i){const e=r.$implicit;t.R7$(2),t.Y8G("routerLink",t.eq3(6,E,"view/"+e.id)),t.R7$(2),t.Y8G("routerLink",t.eq3(8,E,"form/"+e.id)),t.R7$(5),t.JRh(e.fg_code),t.R7$(2),t.JRh(e.fg_name),t.R7$(2),t.JRh(e.fg_qty),t.R7$(3),t.SpI("",(null==e.components?null:e.components.length)||0," components")}}function L(i,r){1&i&&(t.j41(0,"tr")(1,"td",23),t.EFF(2,"No BOMs found"),t.k0s()())}let Y=(()=>{class i{constructor(e){this.bomService=e,this.boms=[],this.loading=!1,this.error="",this.paginationData={total:0,from:0,to:0,prev_page_url:null,next_page_url:null,per_page:v.v.PAGINATION.PER_PAGE,current_page:v.v.PAGINATION.DEFAULT_PAGE},this.search={fg_code:"",fg_name:"",fg_qty:""},this.key=v.k.DEFAULT_SORT_KEY,this.order="ASC",this.class="",this.reverse=!0,this.searchNotifier=new O.B}ngOnInit(){this.getData(),this.searchNotifier.pipe((0,j.B)(750)).subscribe(()=>this.getData())}getReset(){Object.keys(this.search).forEach(e=>{this.search[e]=""}),this.getData()}sort(e=""){""!=e?(this.key=e,this.reverse?(this.order="ASC",this.class="fa fa-sort-alpha-asc"):(this.order="DESC",this.class="fa fa-sort-alpha-desc")):(this.key="",this.order=""),this.reverse=!this.reverse,this.getData(this.paginationData.current_page)}getData(e=1){this.loading=!0,this.error="";let o={page:e,per_page:this.paginationData.per_page};Object.keys(this.search).forEach(n=>{""!==this.search[n]&&(o[`search[${n}]`]=this.search[n])}),this.key&&(o[`sort[${this.key}]`]=this.order),this.bomService.getBOMs(o).subscribe({next:n=>{n.success&&n.data?(this.boms=n.data.data||[],this.paginationData={total:n.data.meta?.total||0,from:n.data.meta?.from||0,to:n.data.meta?.to||0,prev_page_url:n.data.meta?.prev_page_url,next_page_url:n.data.meta?.next_page_url,per_page:n.data.meta?.per_page||this.paginationData.per_page,current_page:n.data.meta?.current_page||1,id:"list"}):this.error="Failed to load BOMs",this.loading=!1},error:n=>{console.error("Error loading BOMs:",n),this.error="An error occurred while loading BOMs",this.loading=!1}})}deleteBOM(e){confirm("Are you sure you want to delete this BOM?")&&this.bomService.deleteBOM(e).subscribe({next:o=>{o.success&&this.getData(this.paginationData.current_page)},error:o=>{console.error("Error deleting BOM:",o),alert("Failed to delete BOM")}})}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(f))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-bom-list"]],standalone:!1,decls:55,vars:22,consts:[[1,"card"],[1,"card-header"],[1,"card-header-right"],[1,"btn","btn-primary",3,"routerLink"],[1,"feather","icon-plus"],[1,"card-body","table-border-style","p-0"],[1,"table-responsive"],[1,"table","table-hover"],[2,"width","100px"],[3,"click"],[3,"class",4,"ngIf"],["data-original-title","","title","Search",1,"primary","p-0",3,"click"],[1,"fa","fa-search","font-medium-1","mr-1"],["data-original-title","","title","Clear",1,"danger","p-0",3,"click"],[1,"feather","icon-x","font-medium-1","mr-1"],["type","text","placeholder","Search FG code...",3,"ngModelChange","ngModel"],["type","text","placeholder","Search FG name...",3,"ngModelChange","ngModel"],["type","text","placeholder","Search quantity...",3,"ngModelChange","ngModel"],[4,"ngIf"],["class","text-danger",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["id","list",3,"pageChange"],["colspan","5",1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-danger"],["title","View",1,"warning","p-0","me-2",3,"routerLink"],[1,"feather","icon-eye"],["title","Edit",1,"warning","p-0","me-2",3,"routerLink"],[1,"feather","icon-edit"],["title","Delete",1,"warning","p-0",3,"click"],[1,"feather","icon-trash-2"],[1,"badge","bg-info"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h5"),t.EFF(3,"BOM List"),t.k0s(),t.j41(4,"div",2)(5,"button",3),t.nrm(6,"i",4),t.EFF(7," Add New BOM "),t.k0s()()(),t.j41(8,"div",5)(9,"div",6)(10,"table",7)(11,"thead")(12,"tr")(13,"th",8),t.EFF(14,"Action"),t.k0s(),t.j41(15,"th")(16,"a",9),t.bIt("click",function(){return n.sort("fg_code")}),t.EFF(17," FG Code "),t.DNE(18,G,1,2,"span",10),t.k0s()(),t.j41(19,"th")(20,"a",9),t.bIt("click",function(){return n.sort("fg_name")}),t.EFF(21," FG Name "),t.DNE(22,$,1,2,"span",10),t.k0s()(),t.j41(23,"th")(24,"a",9),t.bIt("click",function(){return n.sort("fg_qty")}),t.EFF(25," Quantity per FG "),t.DNE(26,T,1,2,"span",10),t.k0s()(),t.j41(27,"th"),t.EFF(28,"Components"),t.k0s()(),t.j41(29,"tr")(30,"th")(31,"a",11),t.bIt("click",function(){return n.getData()}),t.nrm(32,"i",12),t.k0s(),t.EFF(33," \xa0\xa0 "),t.j41(34,"a",13),t.bIt("click",function(){return n.getReset()}),t.nrm(35,"i",14),t.k0s()(),t.j41(36,"th")(37,"input",15),t.mxI("ngModelChange",function(s){return t.DH7(n.search.fg_code,s)||(n.search.fg_code=s),s}),t.bIt("ngModelChange",function(){return n.searchNotifier.next()}),t.k0s()(),t.j41(38,"th")(39,"input",16),t.mxI("ngModelChange",function(s){return t.DH7(n.search.fg_name,s)||(n.search.fg_name=s),s}),t.bIt("ngModelChange",function(){return n.searchNotifier.next()}),t.k0s()(),t.j41(40,"th")(41,"input",17),t.mxI("ngModelChange",function(s){return t.DH7(n.search.fg_qty,s)||(n.search.fg_qty=s),s}),t.bIt("ngModelChange",function(){return n.searchNotifier.next()}),t.k0s()(),t.nrm(42,"th"),t.k0s()(),t.j41(43,"tbody"),t.DNE(44,D,5,0,"tr",18)(45,N,3,1,"tr",19)(46,S,17,10,"tr",20),t.nI1(47,"paginate"),t.DNE(48,L,3,0,"tr",18),t.k0s()(),t.j41(49,"div",21)(50,"div"),t.EFF(51),t.k0s(),t.j41(52,"div")(53,"nav")(54,"pagination-controls",22),t.bIt("pageChange",function(s){return n.getData(s)}),t.k0s()()()()()()()),2&o&&(t.R7$(5),t.Y8G("routerLink",t.lJ4(17,R)),t.R7$(13),t.Y8G("ngIf","fg_code"==n.key),t.R7$(4),t.Y8G("ngIf","fg_name"==n.key),t.R7$(4),t.Y8G("ngIf","fg_qty"==n.key),t.R7$(11),t.R50("ngModel",n.search.fg_code),t.R7$(2),t.R50("ngModel",n.search.fg_name),t.R7$(2),t.R50("ngModel",n.search.fg_qty),t.R7$(3),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",n.error),t.R7$(),t.Y8G("ngForOf",t.i5U(47,14,n.boms,t.sMw(18,I,n.paginationData.per_page,n.paginationData.current_page,n.paginationData.total))),t.R7$(2),t.Y8G("ngIf",!n.loading&&!n.error&&0===n.boms.length),t.R7$(3),t.E5c(" Showing ",n.paginationData.from," to ",n.paginationData.to," of ",n.paginationData.total," Entries "))},dependencies:[c.Sq,c.bT,l.me,l.BC,l.vS,F.Wk,b.ej,b.kf],encapsulation:2})}}return i})();var M=d(8738),B=d(7303);const g=i=>({"is-invalid":i});function q(i,r){1&i&&(t.j41(0,"div",25)(1,"div",26)(2,"span",27),t.EFF(3,"Loading..."),t.k0s()()())}function w(i,r){1&i&&(t.j41(0,"div",28),t.EFF(1," FG Code is required "),t.k0s())}function A(i,r){1&i&&(t.j41(0,"div",28),t.EFF(1," FG Name is required "),t.k0s())}function U(i,r){1&i&&(t.j41(0,"div",28),t.EFF(1," Quantity per FG is required "),t.k0s())}function X(i,r){1&i&&(t.j41(0,"div",28),t.EFF(1," Component code is required "),t.k0s())}function V(i,r){1&i&&(t.j41(0,"div",28),t.EFF(1," Component name is required "),t.k0s())}function x(i,r){1&i&&(t.j41(0,"div",28),t.EFF(1," Quantity is required "),t.k0s())}function J(i,r){if(1&i){const e=t.RV6();t.j41(0,"div",29)(1,"div",2)(2,"div",30)(3,"div",31)(4,"div",32)(5,"label",9),t.EFF(6,"Component Code "),t.j41(7,"span",10),t.EFF(8,"*"),t.k0s()(),t.nrm(9,"input",33),t.DNE(10,X,2,0,"div",12),t.k0s()(),t.j41(11,"div",34)(12,"div",32)(13,"label",9),t.EFF(14,"Component Name "),t.j41(15,"span",10),t.EFF(16,"*"),t.k0s()(),t.nrm(17,"input",35),t.DNE(18,V,2,0,"div",12),t.k0s()(),t.j41(19,"div",31)(20,"div",32)(21,"label",9),t.EFF(22,"Quantity "),t.j41(23,"span",10),t.EFF(24,"*"),t.k0s()(),t.nrm(25,"input",36),t.DNE(26,x,2,0,"div",12),t.k0s()(),t.j41(27,"div",37)(28,"button",38),t.bIt("click",function(){const n=u.eBV(e).index,a=t.XpG();return u.Njj(a.removeComponent(n))}),t.nrm(29,"i",39),t.k0s()()()()()}if(2&i){let e,o,n,a,s,p;const m=r.$implicit;t.Y8G("formGroupName",r.index),t.R7$(9),t.Y8G("ngClass",t.eq3(7,g,(null==(e=m.get("code"))?null:e.touched)&&(null==(e=m.get("code"))?null:e.invalid))),t.R7$(),t.Y8G("ngIf",(null==(o=m.get("code"))?null:o.touched)&&(null==(o=m.get("code"))?null:o.invalid)),t.R7$(7),t.Y8G("ngClass",t.eq3(9,g,(null==(n=m.get("name"))?null:n.touched)&&(null==(n=m.get("name"))?null:n.invalid))),t.R7$(),t.Y8G("ngIf",(null==(a=m.get("name"))?null:a.touched)&&(null==(a=m.get("name"))?null:a.invalid)),t.R7$(7),t.Y8G("ngClass",t.eq3(11,g,(null==(s=m.get("quantity"))?null:s.touched)&&(null==(s=m.get("quantity"))?null:s.invalid))),t.R7$(),t.Y8G("ngIf",(null==(p=m.get("quantity"))?null:p.touched)&&(null==(p=m.get("quantity"))?null:p.invalid))}}function W(i,r){1&i&&(t.j41(0,"div",40)(1,"p"),t.EFF(2,'No components added yet. Click "Add Component" to start building your BOM.'),t.k0s()())}let H=(()=>{class i{constructor(e,o,n,a){this.fb=e,this.route=o,this.location=n,this.bomService=a,this.isEditing=!1,this.loading=!1,this.bomId=null,this.bomForm=this.fb.group({fg_code:["",[l.k0.required]],fg_name:["",[l.k0.required]],fg_qty:["",[l.k0.required]],components:this.fb.array([])})}ngOnInit(){this.bomId="new"===this.route.snapshot.params.id?null:+this.route.snapshot.params.id,this.bomId&&(this.isEditing=!0,this.loadBOMData())}loadBOMData(){this.loading=!0,this.bomService.getBOM(this.bomId).subscribe({next:e=>{if(e.success&&e.data){const o=e.data;if(this.bomForm.patchValue({fg_code:o.fg_code,fg_name:o.fg_name,fg_qty:o.fg_qty}),o.components&&o.components.length>0){const n=this.bomForm.get("components");o.components.forEach(a=>{n.push(this.createComponentFormGroup(a))})}}this.loading=!1},error:e=>{console.error("Error loading BOM:",e),this.loading=!1}})}get components(){return this.bomForm.get("components")}createComponentFormGroup(e){return this.fb.group({code:[e?.code||"",[l.k0.required]],name:[e?.name||"",[l.k0.required]],quantity:[e?.quantity||"",[l.k0.required]]})}addComponent(){this.components.push(this.createComponentFormGroup())}removeComponent(e){this.components.removeAt(e)}onSubmit(){if(this.bomForm.invalid)return void Object.keys(this.bomForm.controls).forEach(o=>{const n=this.bomForm.get(o);n?.invalid&&n.markAsTouched()});const e=this.bomForm.value;this.loading=!0,this.isEditing?this.bomService.updateBOM(this.bomId,e).subscribe({next:o=>{this.loading=!1,o.success&&this.goBack()},error:o=>{this.loading=!1,console.error("Error updating BOM:",o)}}):this.bomService.createBOM(e).subscribe({next:o=>{this.loading=!1,o.success&&this.goBack()},error:o=>{this.loading=!1,console.error("Error creating BOM:",o)}})}goBack(){this.location.back()}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(l.ok),t.rXU(M.nX),t.rXU(B.aZ),t.rXU(f))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-bom-form"]],standalone:!1,decls:48,vars:19,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"ngSubmit","formGroup"],["class","text-center mb-3",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"mb-3"],[1,"form-group","mb-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","fg_code",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","fg_name",1,"form-control",3,"ngClass"],["type","text","formControlName","fg_qty",1,"form-control",3,"ngClass"],[1,"row","mt-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"feather","icon-plus"],["formArrayName","components"],["class","card mb-3",3,"formGroupName",4,"ngFor","ngForOf"],["class","text-center text-muted py-4",4,"ngIf"],[1,"text-end","mt-4"],["type","button",1,"btn","btn-light","me-2",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-center","mb-3"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"invalid-feedback"],[1,"card","mb-3",3,"formGroupName"],[1,"row","align-items-center"],[1,"col-md-3"],[1,"form-group","mb-2"],["type","text","formControlName","code",1,"form-control",3,"ngClass"],[1,"col-md-4"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],["type","text","formControlName","quantity",1,"form-control",3,"ngClass"],[1,"col-md-2","text-end"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],[1,"feather","icon-trash-2"],[1,"text-center","text-muted","py-4"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h5"),t.EFF(3),t.k0s()(),t.j41(4,"div",2)(5,"form",3),t.bIt("ngSubmit",function(){return n.onSubmit()}),t.DNE(6,q,4,0,"div",4),t.j41(7,"div",5)(8,"div",6)(9,"h6",7),t.EFF(10,"BOM Information"),t.k0s(),t.j41(11,"div",8)(12,"label",9),t.EFF(13,"FG Code "),t.j41(14,"span",10),t.EFF(15,"*"),t.k0s()(),t.nrm(16,"input",11),t.DNE(17,w,2,0,"div",12),t.k0s(),t.j41(18,"div",8)(19,"label",9),t.EFF(20,"FG Name "),t.j41(21,"span",10),t.EFF(22,"*"),t.k0s()(),t.nrm(23,"input",13),t.DNE(24,A,2,0,"div",12),t.k0s(),t.j41(25,"div",8)(26,"label",9),t.EFF(27,"Quantity per FG "),t.j41(28,"span",10),t.EFF(29,"*"),t.k0s()(),t.nrm(30,"input",14),t.DNE(31,U,2,0,"div",12),t.k0s()()(),t.j41(32,"div",15)(33,"div",6)(34,"div",16)(35,"h6"),t.EFF(36,"Raw Materials / Components"),t.k0s(),t.j41(37,"button",17),t.bIt("click",function(){return n.addComponent()}),t.nrm(38,"i",18),t.EFF(39," Add Component "),t.k0s()(),t.j41(40,"div",19),t.DNE(41,J,30,13,"div",20)(42,W,3,0,"div",21),t.k0s()()(),t.j41(43,"div",22)(44,"button",23),t.bIt("click",function(){return n.goBack()}),t.EFF(45,"Cancel"),t.k0s(),t.j41(46,"button",24),t.EFF(47),t.k0s()()()()()),2&o){let a,s,p,m,h,_;t.R7$(3),t.SpI("",n.isEditing?"Edit":"Add"," BOM"),t.R7$(2),t.Y8G("formGroup",n.bomForm),t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(10),t.Y8G("ngClass",t.eq3(13,g,(null==(a=n.bomForm.get("fg_code"))?null:a.touched)&&(null==(a=n.bomForm.get("fg_code"))?null:a.invalid))),t.R7$(),t.Y8G("ngIf",(null==(s=n.bomForm.get("fg_code"))?null:s.touched)&&(null==(s=n.bomForm.get("fg_code"))?null:s.invalid)),t.R7$(6),t.Y8G("ngClass",t.eq3(15,g,(null==(p=n.bomForm.get("fg_name"))?null:p.touched)&&(null==(p=n.bomForm.get("fg_name"))?null:p.invalid))),t.R7$(),t.Y8G("ngIf",(null==(m=n.bomForm.get("fg_name"))?null:m.touched)&&(null==(m=n.bomForm.get("fg_name"))?null:m.invalid)),t.R7$(6),t.Y8G("ngClass",t.eq3(17,g,(null==(h=n.bomForm.get("fg_qty"))?null:h.touched)&&(null==(h=n.bomForm.get("fg_qty"))?null:h.invalid))),t.R7$(),t.Y8G("ngIf",(null==(_=n.bomForm.get("fg_qty"))?null:_.touched)&&(null==(_=n.bomForm.get("fg_qty"))?null:_.invalid)),t.R7$(10),t.Y8G("ngForOf",n.components.controls),t.R7$(),t.Y8G("ngIf",0===n.components.length),t.R7$(4),t.Y8G("disabled",n.loading),t.R7$(),t.SpI(" ",n.isEditing?"Update":"Create"," BOM ")}},dependencies:[c.YU,c.Sq,c.bT,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.$R,l.v8],encapsulation:2})}}return i})();const P=i=>[i];function Q(i,r){1&i&&(t.j41(0,"div",11)(1,"div",12)(2,"span",13),t.EFF(3,"Loading..."),t.k0s()()())}function K(i,r){if(1&i&&(t.j41(0,"tr")(1,"td",33),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td",34),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s()()),2&i){const e=r.$implicit,o=t.XpG(3);t.R7$(2),t.JRh(e.code),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.quantity),t.R7$(2),t.JRh(o.getComponentUnit(e.code))}}function Z(i,r){if(1&i&&(t.j41(0,"div")(1,"div",24)(2,"table",25)(3,"thead",26)(4,"tr")(5,"th",27),t.EFF(6,"Component Code"),t.k0s(),t.j41(7,"th",28),t.EFF(8,"Component Name"),t.k0s(),t.j41(9,"th",29),t.EFF(10,"Quantity"),t.k0s(),t.j41(11,"th",29),t.EFF(12,"Unit"),t.k0s()()(),t.j41(13,"tbody"),t.DNE(14,K,9,4,"tr",30),t.k0s(),t.j41(15,"tfoot",31)(16,"tr")(17,"td",32)(18,"strong"),t.EFF(19),t.k0s()()()()()()()),2&i){const e=t.XpG(2);t.R7$(14),t.Y8G("ngForOf",e.bom.components),t.R7$(5),t.SpI("Total Components: ",e.bom.components.length)}}function z(i,r){1&i&&(t.j41(0,"div",35),t.nrm(1,"i",36),t.EFF(2," No components added to this BOM yet. "),t.k0s())}function tt(i,r){if(1&i&&(t.j41(0,"div")(1,"div",14)(2,"div",15)(3,"h6",16),t.EFF(4,"BOM Information"),t.k0s(),t.j41(5,"table",17)(6,"tbody")(7,"tr")(8,"th",18),t.EFF(9,"BOM ID"),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s()(),t.j41(12,"tr")(13,"th"),t.EFF(14,"FG Code"),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s()(),t.j41(17,"tr")(18,"th"),t.EFF(19,"FG Name"),t.k0s(),t.j41(20,"td"),t.EFF(21),t.k0s()(),t.j41(22,"tr")(23,"th"),t.EFF(24,"Quantity per FG"),t.k0s(),t.j41(25,"td"),t.EFF(26),t.k0s()()()()(),t.j41(27,"div",19)(28,"h6",16),t.EFF(29,"Timestamps"),t.k0s(),t.j41(30,"table",17)(31,"tbody")(32,"tr")(33,"th",20),t.EFF(34,"Created At"),t.k0s(),t.j41(35,"td"),t.EFF(36),t.nI1(37,"date"),t.k0s()(),t.j41(38,"tr")(39,"th"),t.EFF(40,"Last Updated"),t.k0s(),t.j41(41,"td"),t.EFF(42),t.nI1(43,"date"),t.k0s()()()()()(),t.j41(44,"div",21)(45,"div",22)(46,"h6",16),t.EFF(47,"Raw Materials / Components"),t.k0s(),t.DNE(48,Z,20,2,"div",23)(49,z,3,0,"ng-template",null,0,t.C5r),t.k0s()()()),2&i){const e=t.sdS(50),o=t.XpG();t.R7$(11),t.JRh(o.bom.id),t.R7$(5),t.JRh(o.bom.fg_code),t.R7$(5),t.JRh(o.bom.fg_name),t.R7$(5),t.JRh(o.bom.fg_qty),t.R7$(10),t.JRh(t.i5U(37,8,o.bom.created_at,"medium")),t.R7$(6),t.JRh(t.i5U(43,11,o.bom.updated_at,"medium")),t.R7$(6),t.Y8G("ngIf",o.bom.components&&o.bom.components.length>0)("ngIfElse",e)}}function et(i,r){1&i&&(t.j41(0,"div",11)(1,"p",37),t.EFF(2,"BOM not found"),t.k0s()())}let nt=(()=>{class i{constructor(e,o,n){this.route=e,this.location=o,this.bomService=n,this.bom=null,this.loading=!1,this.bomId=null}ngOnInit(){this.bomId=+this.route.snapshot.params.id,this.bomId&&this.loadBOMData()}loadBOMData(){this.loading=!0,this.bomService.getBOM(this.bomId).subscribe({next:e=>{e.success&&e.data&&(this.bom=e.data),this.loading=!1},error:e=>{console.error("Error loading BOM:",e),this.loading=!1}})}goBack(){this.location.back()}getComponentUnit(e){return e.startsWith("ST-")||e.startsWith("AL-")?"Kg":e.startsWith("PCB-")||e.startsWith("SW-")||e.startsWith("RES-")?"Pcs":e.startsWith("MOT-")?"Unit":e.startsWith("WIR-")?"Meter":"Unit"}static{this.\u0275fac=function(o){return new(o||i)(t.rXU(M.nX),t.rXU(B.aZ),t.rXU(f))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-bom-view"]],standalone:!1,decls:15,vars:6,consts:[["noComponents",""],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"button-group"],["type","button",1,"btn","btn-primary",3,"click"],[1,"feather","icon-arrow-left"],["type","button",1,"btn","btn-secondary","ms-2",3,"routerLink"],[1,"feather","icon-edit"],[1,"card-body"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"row"],[1,"col-md-8","mb-4"],[1,"mb-3"],[1,"table","table-bordered"],["width","30%"],[1,"col-md-4","mb-4"],["width","40%"],[1,"row","mt-4"],[1,"col-md-12"],[4,"ngIf","ngIfElse"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],[1,"table-dark"],["width","20%"],["width","50%"],["width","15%"],[4,"ngFor","ngForOf"],[1,"table-light"],["colspan","4",1,"text-center"],[1,"fw-bold"],[1,"text-end"],[1,"alert","alert-info"],[1,"feather","icon-info"],[1,"text-muted"]],template:function(o,n){1&o&&(t.j41(0,"div",1)(1,"div",2)(2,"h5"),t.EFF(3,"BOM Details"),t.k0s(),t.j41(4,"div",3)(5,"button",4),t.bIt("click",function(){return n.goBack()}),t.nrm(6,"i",5),t.EFF(7," Back "),t.k0s(),t.j41(8,"button",6),t.nrm(9,"i",7),t.EFF(10," Edit "),t.k0s()()(),t.j41(11,"div",8),t.DNE(12,Q,4,0,"div",9)(13,tt,51,14,"div",10)(14,et,3,0,"div",9),t.k0s()()),2&o&&(t.R7$(8),t.Y8G("routerLink",t.eq3(4,P,"../../form/"+(null==n.bom?null:n.bom.id))),t.R7$(4),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",!n.loading&&n.bom),t.R7$(),t.Y8G("ngIf",!n.loading&&!n.bom))},dependencies:[c.Sq,c.bT,F.Wk,c.vh],encapsulation:2})}}return i})();var it=d(2389);const ot=[{path:"",component:Y},{path:"form/:id",component:H},{path:"view/:id",component:nt}];let at=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=u.G2t({providers:[f],imports:[c.MD,l.YN,l.X1,F.iI.forChild(ot),it.G,b.ed]})}}return i})()}}]);